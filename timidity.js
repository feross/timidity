require=function(){function s(d,e,r){function t(o,i){if(!e[o]){if(!d[o]){var l="function"==typeof require&&require;if(!i&&l)return l(o,!0);if(n)return n(o,!0);var _=new Error("Cannot find module '"+o+"'");throw _.code="MODULE_NOT_FOUND",_}var a=e[o]={exports:{}};d[o][0].call(a.exports,function(e){var r=d[o][1][e];return t(r||e)},a,a.exports,s,d,e,r)}return e[o].exports}for(var n="function"==typeof require&&require,o=0;o<r.length;o++)t(r[o]);return t}return s}()({1:[function(e,t,r){var n=Math.floor,o=Math.abs,s=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return function(t){function r(e){return Z.locateFile?Z.locateFile(e,_e):_e+e}function s(e,t){return t||(t=16),J(e/t)*t}function a(e,t){e||C("Assertion failed: "+t)}function i(e,t,r){for(var n=String.fromCharCode,o=t+r,s=t;e[s]&&!(s>=o);)++s;if(16<s-t&&e.subarray&&Te)return Te.decode(e.subarray(t,s));for(var a,i="";t<s;){if(a=e[t++],!(128&a)){i+=n(a);continue}var d=63&e[t++];if(192==(224&a)){i+=n((31&a)<<6|d);continue}var l=63&e[t++];if(a=224==(240&a)?(15&a)<<12|d<<6|l:(7&a)<<18|d<<12|l<<6|63&e[t++],65536>a)i+=n(a);else{var _=a-65536;i+=n(55296|_>>10,56320|1023&_)}}return i}function d(e,t){return e?i(ye,e,t):""}function l(e,t,r,n){if(!(0<n))return 0;for(var o,s=r,a=r+n-1,d=0;d<e.length;++d){if(o=e.charCodeAt(d),55296<=o&&57343>=o){var l=e.charCodeAt(++d);o=65536+((1023&o)<<10)|1023&l}if(127>=o){if(r>=a)break;t[r++]=o}else if(2047>=o){if(r+1>=a)break;t[r++]=192|o>>6,t[r++]=128|63&o}else if(65535>=o){if(r+2>=a)break;t[r++]=224|o>>12,t[r++]=128|63&o>>6,t[r++]=128|63&o}else{if(r+3>=a)break;t[r++]=240|o>>18,t[r++]=128|63&o>>12,t[r++]=128|63&o>>6,t[r++]=128|63&o}}return t[r]=0,r-s}function _(e,t,r){return l(e,ye,t,r)}function p(e){for(var t,r=0,n=0;n<e.length;++n)t=e.charCodeAt(n),55296<=t&&57343>=t&&(t=65536+((1023&t)<<10)|1023&e.charCodeAt(++n)),127>=t?++r:2047>=t?r+=2:65535>=t?r+=3:r+=4;return r}function m(e,t){return 0<e%t&&(e+=t-e%t),e}function u(e){he=e,Z.HEAP8=fe=new Int8Array(e),Z.HEAP16=Ee=new Int16Array(e),Z.HEAP32=be=new Int32Array(e),Z.HEAPU8=ye=new Uint8Array(e),Z.HEAPU16=ke=new Uint16Array(e),Z.HEAPU32=ve=new Uint32Array(e),Z.HEAPF32=Ce=new Float32Array(e),Z.HEAPF64=De=new Float64Array(e)}function c(){if(Z.preRun)for("function"==typeof Z.preRun&&(Z.preRun=[Z.preRun]);Z.preRun.length;)y(Z.preRun.shift());S(Ae)}function g(){Me=!0,Z.noFSInit||Ve.init.initialized||Ve.init(),qe.init(),S(Le)}function h(){Ve.ignorePermissions=!1,S(Be)}function f(){if(Z.postRun)for("function"==typeof Z.postRun&&(Z.postRun=[Z.postRun]);Z.postRun.length;)E(Z.postRun.shift());S(Re)}function y(e){Ae.unshift(e)}function E(e){Re.unshift(e)}function k(e){return e}function b(){Oe++,Z.monitorRunDependencies&&Z.monitorRunDependencies(Oe)}function v(){if(Oe--,Z.monitorRunDependencies&&Z.monitorRunDependencies(Oe),0==Oe&&(null!==Ne&&(clearInterval(Ne),Ne=null),ze)){var e=ze;ze=null,e()}}function C(t){Z.onAbort&&Z.onAbort(t),t+="",me(t),Fe=!0,we=1,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(t);throw Q(r),r}function D(e,t){var r=String.prototype;return r.startsWith?e.startsWith(t):0===e.indexOf(t)}function F(e){return D(e,"data:application/octet-stream;base64,")}function w(){try{if(ue)return new Uint8Array(ue);if(oe)return oe(Ie);throw"both async and sync fetching of the wasm failed"}catch(e){C(e)}}function T(){return ue||0||"function"!=typeof fetch?Promise.resolve().then(w):fetch(Ie,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+Ie+"'";return e.arrayBuffer()}).catch(function(){return w()})}function P(){function e(e){var t=e.exports;Z.asm=t,xe=Z.asm.k,v("wasm-instantiate")}function t(t){e(t.instance)}function r(e){return T().then(function(e){return WebAssembly.instantiate(e,o)}).then(e,function(e){me("failed to asynchronously prepare wasm: "+e),C(e)})}function n(){return ue||"function"!=typeof WebAssembly.instantiateStreaming||F(Ie)||"function"!=typeof fetch?r(t):fetch(Ie,{credentials:"same-origin"}).then(function(e){var n=WebAssembly.instantiateStreaming(e,o);return n.then(t,function(e){return me("wasm streaming compile failed: "+e),me("falling back to ArrayBuffer instantiation"),r(t)})})}var o={a:Je};if(b("wasm-instantiate"),Z.instantiateWasm)try{var s=Z.instantiateWasm(o,e);return s}catch(t){return me("Module.instantiateWasm callback failed with error: "+t),!1}return n().catch(Q),{}}function S(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t){t(Z);continue}var r=t.func;"number"==typeof r?void 0===t.arg?xe.get(r)():xe.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}}function A(e){return e}function L(e){return e.replace(/\b_Z[\w\d_]+/g,function(e){var t=A(e);return e===t?e:t+" ["+e+"]"})}function B(){var t=new Error;if(!t.stack){try{throw new Error}catch(r){t=r}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}function R(){var e=B();return Z.extraStackTrace&&(e+="\n"+Z.extraStackTrace()),L(e)}function M(e){return be[gt()>>2]=e,e}function O(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return function(){return crypto.getRandomValues(e),e[0]}}return function(){C("randomDevice")}}function N(e){for(var t=s(e,16384),r=Ze(t);e<t;)fe[r+e++]=0;return r}function z(e,t,r){x.varargs=r;try{var n=x.getStreamFromFD(e);switch(t){case 0:{var o=x.get();if(0>o)return-28;var s;return s=Ve.open(n.path,n.flags,0,o),s.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var o=x.get();return n.flags|=o,0}case 12:{var o=x.get();return Ee[o+0>>1]=2,0}case 13:case 14:return 0;case 16:case 8:return-28;case 9:return M(28),-1;default:return-28;}}catch(t){return"undefined"!=typeof Ve&&t instanceof Ve.ErrnoError||C(t),-t.errno}}function I(e,t,r){x.varargs=r;try{var n=x.getStreamFromFD(e);switch(t){case 21509:case 21505:return n.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-59;case 21519:{if(!n.tty)return-59;var o=x.get();return be[o>>2]=0,0}case 21520:return n.tty?-28:-59;case 21531:{var o=x.get();return Ve.ioctl(n,t,o)}case 21523:return n.tty?0:-59;case 21524:return n.tty?0:-59;default:C("bad ioctl syscall "+t);}}catch(t){return"undefined"!=typeof Ve&&t instanceof Ve.ErrnoError||C(t),-t.errno}}function H(e,t,r){ye.copyWithin(e,t,t+r)}function j(){return ye.length}function U(e){try{return ge.grow(e-he.byteLength+65535>>>16),u(ge.buffer),1}catch(t){}}function W(e,t,r,n){try{var o=x.getStreamFromFD(e),s=x.doReadv(o,t,r);return be[n>>2]=s,0}catch(t){return"undefined"!=typeof Ve&&t instanceof Ve.ErrnoError||C(t),t.errno}}function q(e,t,r,s,a){try{var i=x.getStreamFromFD(e),d=4294967296*r+(t>>>0),l=9007199254740992;return-9007199254740992>=d||9007199254740992<=d?-61:(Ve.llseek(i,d,s),je=[i.position>>>0,(He=i.position,1<=+o(He)?0<He?(0|$(+n(He/4294967296),4294967295))>>>0:~~+J((He-+(~~He>>>0))/4294967296)>>>0:0)],be[a>>2]=je[0],be[a+4>>2]=je[1],i.getdents&&0===d&&0===s&&(i.getdents=null),0)}catch(t){return"undefined"!=typeof Ve&&t instanceof Ve.ErrnoError||C(t),t.errno}}function G(e,t,r,n){try{var o=x.getStreamFromFD(e),s=x.doWritev(o,t,r);return be[n>>2]=s,0}catch(t){return"undefined"!=typeof Ve&&t instanceof Ve.ErrnoError||C(t),t.errno}}function V(e,t,r){var n=0<r?r:p(e)+1,o=Array(n),s=l(e,o,0,o.length);return t&&(o.length=s),o}function K(e){function t(){ht||(ht=!0,Z.calledRun=!0,Fe||(g(),h(),Y(Z),Z.onRuntimeInitialized&&Z.onRuntimeInitialized(),f()))}(e=e||ae,!(0<Oe))&&(c(),0<Oe||(Z.setStatus?(Z.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Z.setStatus("")},1),t()},1)):t()))}var X=Math.max,$=Math.min,J=Math.ceil;t=t||{},null;var Y,Q,Z="undefined"==typeof t?{}:t;Z.ready=new Promise(function(e,t){Y=e,Q=t});var ee,te={};for(ee in Z)Z.hasOwnProperty(ee)&&(te[ee]=Z[ee]);var re,ne,oe,se,ae=[],ie="./this.program",de=function(e,t){throw t},le=!1,_e="";"undefined"!=typeof document&&document.currentScript&&(_e=document.currentScript.src),e&&(_e=e),_e=0===_e.indexOf("blob:")?"":_e.substr(0,_e.lastIndexOf("/")+1),re=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},!1,ne=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){return 200==n.status||0==n.status&&n.response?void t(n.response):void r()},n.onerror=r,n.send(null)},se=function(e){document.title=e};var pe=Z.print||console.log.bind(console),me=Z.printErr||console.warn.bind(console);for(ee in te)te.hasOwnProperty(ee)&&(Z[ee]=te[ee]);te=null,Z.arguments&&(ae=Z.arguments),Z.thisProgram&&(ie=Z.thisProgram),Z.quit&&(de=Z.quit);var ue;Z.wasmBinary&&(ue=Z.wasmBinary);var ce;Z.noExitRuntime&&(ce=Z.noExitRuntime),"object"!=typeof WebAssembly&&C("no native wasm support detected");var ge,he,fe,ye,Ee,ke,be,ve,Ce,De,Fe=!1,we=0,Te="undefined"==typeof TextDecoder?void 0:new TextDecoder("utf8"),Pe=65536,Se=Z.INITIAL_MEMORY||16777216;ge=Z.wasmMemory?Z.wasmMemory:new WebAssembly.Memory({initial:Se/65536,maximum:32768}),ge&&(he=ge.buffer),Se=he.byteLength,u(he);var xe,Ae=[],Le=[],Be=[],Re=[],Me=!1,Oe=0,Ne=null,ze=null;Z.preloadedImages={},Z.preloadedAudios={};var Ie="libtimidity.wasm";F(Ie)||(Ie=r(Ie));var He,je,Ue={splitPath:function(e){return /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r,n=0,o=e.length-1;0<=o;o--)r=e[o],"."===r?e.splice(o,1):".."===r?(e.splice(o,1),n++):n&&(e.splice(o,1),n--);if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return e=Ue.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=Ue.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:function(e){if("/"===e)return"/";e=Ue.normalize(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return Ue.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return Ue.normalize(e.join("/"))},join2:function(e,t){return Ue.normalize(e+"/"+t)}},We={resolve:function(){for(var e,t="",r=!1,n=arguments.length-1;-1<=n&&!r;n--){if(e=0<=n?arguments[n]:Ve.cwd(),"string"!=typeof e)throw new TypeError("Arguments to path.resolve must be strings");else if(!e)return"";t=e+"/"+t,r="/"===e.charAt(0)}return t=Ue.normalizeArray(t.split("/").filter(function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=We.resolve(e).substr(1),t=We.resolve(t).substr(1);for(var n=r(e.split("/")),o=r(t.split("/")),s=$(n.length,o.length),a=s,d=0;d<s;d++)if(n[d]!==o[d]){a=d;break}for(var l=[],d=a;d<n.length;d++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")}},qe={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){qe.ttys[e]={input:[],output:[],ops:t},Ve.registerDevice(e,qe.stream_ops)},stream_ops:{open:function(e){var t=qe.ttys[e.node.rdev];if(!t)throw new Ve.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n){if(!e.tty||!e.tty.ops.get_char)throw new Ve.ErrnoError(60);for(var o=0,s=0;s<n;s++){var a;try{a=e.tty.ops.get_char(e.tty)}catch(t){throw new Ve.ErrnoError(29)}if(void 0===a&&0===o)throw new Ve.ErrnoError(6);if(null===a||void 0===a)break;o++,t[r+s]=a}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,n){if(!e.tty||!e.tty.ops.put_char)throw new Ve.ErrnoError(60);try{for(var o=0;o<n;o++)e.tty.ops.put_char(e.tty,t[r+o])}catch(t){throw new Ve.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?(t=window.prompt("Input: "),null!==t&&(t+="\n")):"function"==typeof readline&&(t=readline(),null!==t&&(t+="\n")),!t)return null;e.input=V(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(pe(i(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(pe(i(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(me(i(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(me(i(e.output,0)),e.output=[])}}},Ge={ops_table:null,mount:function(){return Ge.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(Ve.isBlkdev(r)||Ve.isFIFO(r))throw new Ve.ErrnoError(63);Ge.ops_table||(Ge.ops_table={dir:{node:{getattr:Ge.node_ops.getattr,setattr:Ge.node_ops.setattr,lookup:Ge.node_ops.lookup,mknod:Ge.node_ops.mknod,rename:Ge.node_ops.rename,unlink:Ge.node_ops.unlink,rmdir:Ge.node_ops.rmdir,readdir:Ge.node_ops.readdir,symlink:Ge.node_ops.symlink},stream:{llseek:Ge.stream_ops.llseek}},file:{node:{getattr:Ge.node_ops.getattr,setattr:Ge.node_ops.setattr},stream:{llseek:Ge.stream_ops.llseek,read:Ge.stream_ops.read,write:Ge.stream_ops.write,allocate:Ge.stream_ops.allocate,mmap:Ge.stream_ops.mmap,msync:Ge.stream_ops.msync}},link:{node:{getattr:Ge.node_ops.getattr,setattr:Ge.node_ops.setattr,readlink:Ge.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ge.node_ops.getattr,setattr:Ge.node_ops.setattr},stream:Ve.chrdev_stream_ops}});var o=Ve.createNode(e,t,r,n);return Ve.isDir(o.mode)?(o.node_ops=Ge.ops_table.dir.node,o.stream_ops=Ge.ops_table.dir.stream,o.contents={}):Ve.isFile(o.mode)?(o.node_ops=Ge.ops_table.file.node,o.stream_ops=Ge.ops_table.file.stream,o.usedBytes=0,o.contents=null):Ve.isLink(o.mode)?(o.node_ops=Ge.ops_table.link.node,o.stream_ops=Ge.ops_table.link.stream):Ve.isChrdev(o.mode)&&(o.node_ops=Ge.ops_table.chrdev.node,o.stream_ops=Ge.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[t]=o),o},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=X(t,r*(1048576>r?2:1.125)>>>0),0!=r&&(t=X(t,256));var n=e.contents;return e.contents=new Uint8Array(t),void(0<e.usedBytes&&e.contents.set(n.subarray(0,e.usedBytes),0))}},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(t),r&&e.contents.set(r.subarray(0,$(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Ve.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,t.size=Ve.isDir(e.mode)?4096:Ve.isFile(e.mode)?e.usedBytes:Ve.isLink(e.mode)?e.link.length:0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=J(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Ge.resizeFileStorage(e,t.size)},lookup:function(){throw Ve.genericErrors[44]},mknod:function(e,t,r,n){return Ge.createNode(e,t,r,n)},rename:function(e,t,r){if(Ve.isDir(e.mode)){var n;try{n=Ve.lookupNode(t,r)}catch(t){}if(n)for(var o in n.contents)throw new Ve.ErrnoError(55)}delete e.parent.contents[e.name],e.name=r,t.contents[r]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var r=Ve.lookupNode(e,t);for(var n in r.contents)throw new Ve.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=Ge.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!Ve.isLink(e.mode))throw new Ve.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,o){var s=e.node.contents;if(o>=e.node.usedBytes)return 0;var a=$(e.node.usedBytes-o,n);if(8<a&&s.subarray)t.set(s.subarray(o,o+a),r);else for(var d=0;d<a;d++)t[r+d]=s[o+d];return a},write:function(e,t,r,n,o,s){if(t.buffer===fe.buffer&&(s=!1),!n)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(s)return a.contents=t.subarray(r,r+n),a.usedBytes=n,n;if(0===a.usedBytes&&0===o)return a.contents=t.slice(r,r+n),a.usedBytes=n,n;if(o+n<=a.usedBytes)return a.contents.set(t.subarray(r,r+n),o),n}if(Ge.expandFileStorage(a,o+n),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(r,r+n),o);else for(var d=0;d<n;d++)a.contents[o+d]=t[r+d];return a.usedBytes=X(a.usedBytes,o+n),n},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2==r&&Ve.isFile(e.node.mode)&&(n+=e.node.usedBytes),0>n)throw new Ve.ErrnoError(28);return n},allocate:function(e,t,r){Ge.expandFileStorage(e.node,t+r),e.node.usedBytes=X(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,o,s){if(a(0===t),!Ve.isFile(e.node.mode))throw new Ve.ErrnoError(43);var i,d,l=e.node.contents;if(!(2&s)&&l.buffer===he)d=!1,i=l.byteOffset;else{if((0<n||n+r<l.length)&&(l.subarray?l=l.subarray(n,n+r):l=Array.prototype.slice.call(l,n,n+r)),d=!0,i=N(r),!i)throw new Ve.ErrnoError(48);fe.set(l,i)}return{ptr:i,allocated:d}},msync:function(e,t,r,n,o){if(!Ve.isFile(e.node.mode))throw new Ve.ErrnoError(43);return 2&o?0:(Ge.stream_ops.write(e,t,0,n,r,!1),0)}}},Ve={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(t){if(!(t instanceof Ve.ErrnoError))throw t+" : "+R();return M(t.errno)},lookupPath:function(e,t){if(e=We.resolve(Ve.cwd(),e),t=t||{},!e)return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var n in r)void 0===t[n]&&(t[n]=r[n]);if(8<t.recurse_count)throw new Ve.ErrnoError(32);for(var o,s=Ue.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=Ve.root,d="/",l=0;l<s.length&&(o=l==s.length-1,!(o&&t.parent));l++)if(a=Ve.lookupNode(a,s[l]),d=Ue.join2(d,s[l]),Ve.isMountpoint(a)&&(!o||o&&t.follow_mount)&&(a=a.mounted.root),!o||t.follow)for(var _,p=0;Ve.isLink(a.mode);){_=Ve.readlink(d),d=We.resolve(Ue.dirname(d),_);var m=Ve.lookupPath(d,{recurse_count:t.recurse_count});if(a=m.node,40<p++)throw new Ve.ErrnoError(32)}return{path:d,node:a}},getPath:function(e){for(var t;;){if(Ve.isRoot(e)){var r=e.mount.mountpoint;return t?"/"===r[r.length-1]?r+t:r+"/"+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=0|(r<<5)-r+t.charCodeAt(n);return(e+r>>>0)%Ve.nameTable.length},hashAddNode:function(e){var t=Ve.hashName(e.parent.id,e.name);e.name_next=Ve.nameTable[t],Ve.nameTable[t]=e},hashRemoveNode:function(e){var t=Ve.hashName(e.parent.id,e.name);if(Ve.nameTable[t]===e)Ve.nameTable[t]=e.name_next;else for(var r=Ve.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=Ve.mayLookup(e);if(r)throw new Ve.ErrnoError(r,e);for(var n,o=Ve.hashName(e.id,t),s=Ve.nameTable[o];s;s=s.name_next)if(n=s.name,s.parent.id===e.id&&n===t)return s;return Ve.lookup(e,t)},createNode:function(e,t,r,n){var o=new Ve.FSNode(e,t,r,n);return Ve.hashAddNode(o),o},destroyNode:function(e){Ve.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=Ve.flagModes[e];if("undefined"==typeof t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Ve.ignorePermissions?0:-1===t.indexOf("r")||292&e.mode?-1===t.indexOf("w")||146&e.mode?-1===t.indexOf("x")||73&e.mode?0:2:2:2},mayLookup:function(e){var t=Ve.nodePermissions(e,"x");return t?t:e.node_ops.lookup?0:2},mayCreate:function(e,t){try{return Ve.lookupNode(e,t),20}catch(t){}return Ve.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=Ve.lookupNode(e,t)}catch(t){return t.errno}var o=Ve.nodePermissions(e,"wx");if(o)return o;if(r){if(!Ve.isDir(n.mode))return 54;if(Ve.isRoot(n)||Ve.getPath(n)===Ve.cwd())return 10}else if(Ve.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?Ve.isLink(e.mode)?32:Ve.isDir(e.mode)&&("r"!==Ve.flagsToPermissionString(t)||512&t)?31:Ve.nodePermissions(e,Ve.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||Ve.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!Ve.streams[r])return r;throw new Ve.ErrnoError(33)},getStream:function(e){return Ve.streams[e]},createStream:function(e,t,r){Ve.FSStream||(Ve.FSStream=function(){},Ve.FSStream.prototype={object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var n=new Ve.FSStream;for(var o in e)n[o]=e[o];e=n;var s=Ve.nextfd(t,r);return e.fd=s,Ve.streams[s]=e,e},closeStream:function(e){Ve.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Ve.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ve.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Ve.devices[e]={stream_ops:t}},getDevice:function(e){return Ve.devices[e]},getMounts:function(e){for(var t,r=[],n=[e];n.length;)t=n.pop(),r.push(t),n.push.apply(n,t.mounts);return r},syncfs:function(e,t){function r(e){return Ve.syncFSRequests--,t(e)}function n(e){return e?n.errored?void 0:(n.errored=!0,r(e)):void(++s>=o.length&&r(null))}"function"==typeof e&&(t=e,e=!1),Ve.syncFSRequests++,1<Ve.syncFSRequests&&me("warning: "+Ve.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var o=Ve.getMounts(Ve.root.mount),s=0;o.forEach(function(t){return t.type.syncfs?void t.type.syncfs(t,e,n):n(null)})},mount:function(e,t,r){var n,o="/"===r,s=!r;if(o&&Ve.root)throw new Ve.ErrnoError(10);else if(!o&&!s){var a=Ve.lookupPath(r,{follow_mount:!1});if(r=a.path,n=a.node,Ve.isMountpoint(n))throw new Ve.ErrnoError(10);if(!Ve.isDir(n.mode))throw new Ve.ErrnoError(54)}var i={type:e,opts:t,mountpoint:r,mounts:[]},d=e.mount(i);return d.mount=i,i.root=d,o?Ve.root=d:n&&(n.mounted=i,n.mount&&n.mount.mounts.push(i)),d},unmount:function(e){var t=Ve.lookupPath(e,{follow_mount:!1});if(!Ve.isMountpoint(t.node))throw new Ve.ErrnoError(28);var r=t.node,n=r.mounted,o=Ve.getMounts(n);Object.keys(Ve.nameTable).forEach(function(e){for(var t,r=Ve.nameTable[e];r;)t=r.name_next,-1!==o.indexOf(r.mount)&&Ve.destroyNode(r),r=t}),r.mounted=null;var s=r.mount.mounts.indexOf(n);r.mount.mounts.splice(s,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=Ve.lookupPath(e,{parent:!0}),o=n.node,s=Ue.basename(e);if(!s||"."===s||".."===s)throw new Ve.ErrnoError(28);var a=Ve.mayCreate(o,s);if(a)throw new Ve.ErrnoError(a);if(!o.node_ops.mknod)throw new Ve.ErrnoError(63);return o.node_ops.mknod(o,s,t,r)},create:function(e,t){return t=void 0===t?438:t,t&=4095,t|=32768,Ve.mknod(e,t,0)},mkdir:function(e,t){return t=void 0===t?511:t,t&=1023,t|=16384,Ve.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",o=0;o<r.length;++o)if(r[o]){n+="/"+r[o];try{Ve.mkdir(n,t)}catch(t){if(20!=t.errno)throw t}}},mkdev:function(e,t,r){return"undefined"==typeof r&&(r=t,t=438),t|=8192,Ve.mknod(e,t,r)},symlink:function(e,t){if(!We.resolve(e))throw new Ve.ErrnoError(44);var r=Ve.lookupPath(t,{parent:!0}),n=r.node;if(!n)throw new Ve.ErrnoError(44);var o=Ue.basename(t),s=Ve.mayCreate(n,o);if(s)throw new Ve.ErrnoError(s);if(!n.node_ops.symlink)throw new Ve.ErrnoError(63);return n.node_ops.symlink(n,o,e)},rename:function(t,r){var n,o,s,a=Ue.dirname(t),i=Ue.dirname(r),d=Ue.basename(t),l=Ue.basename(r);if(n=Ve.lookupPath(t,{parent:!0}),o=n.node,n=Ve.lookupPath(r,{parent:!0}),s=n.node,!o||!s)throw new Ve.ErrnoError(44);if(o.mount!==s.mount)throw new Ve.ErrnoError(75);var _=Ve.lookupNode(o,d),p=We.relative(t,i);if("."!==p.charAt(0))throw new Ve.ErrnoError(28);if(p=We.relative(r,a),"."!==p.charAt(0))throw new Ve.ErrnoError(55);var m;try{m=Ve.lookupNode(s,l)}catch(t){}if(_!==m){var u=Ve.isDir(_.mode),c=Ve.mayDelete(o,d,u);if(c)throw new Ve.ErrnoError(c);if(c=m?Ve.mayDelete(s,l,u):Ve.mayCreate(s,l),c)throw new Ve.ErrnoError(c);if(!o.node_ops.rename)throw new Ve.ErrnoError(63);if(Ve.isMountpoint(_)||m&&Ve.isMountpoint(m))throw new Ve.ErrnoError(10);if(s!==o&&(c=Ve.nodePermissions(o,"w"),c))throw new Ve.ErrnoError(c);try{Ve.trackingDelegate.willMovePath&&Ve.trackingDelegate.willMovePath(t,r)}catch(n){me("FS.trackingDelegate['willMovePath']('"+t+"', '"+r+"') threw an exception: "+n.message)}Ve.hashRemoveNode(_);try{o.node_ops.rename(_,s,l)}catch(t){throw t}finally{Ve.hashAddNode(_)}try{Ve.trackingDelegate.onMovePath&&Ve.trackingDelegate.onMovePath(t,r)}catch(n){me("FS.trackingDelegate['onMovePath']('"+t+"', '"+r+"') threw an exception: "+n.message)}}},rmdir:function(t){var r=Ve.lookupPath(t,{parent:!0}),n=r.node,o=Ue.basename(t),s=Ve.lookupNode(n,o),a=Ve.mayDelete(n,o,!0);if(a)throw new Ve.ErrnoError(a);if(!n.node_ops.rmdir)throw new Ve.ErrnoError(63);if(Ve.isMountpoint(s))throw new Ve.ErrnoError(10);try{Ve.trackingDelegate.willDeletePath&&Ve.trackingDelegate.willDeletePath(t)}catch(r){me("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+r.message)}n.node_ops.rmdir(n,o),Ve.destroyNode(s);try{Ve.trackingDelegate.onDeletePath&&Ve.trackingDelegate.onDeletePath(t)}catch(r){me("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+r.message)}},readdir:function(e){var t=Ve.lookupPath(e,{follow:!0}),r=t.node;if(!r.node_ops.readdir)throw new Ve.ErrnoError(54);return r.node_ops.readdir(r)},unlink:function(t){var r=Ve.lookupPath(t,{parent:!0}),n=r.node,o=Ue.basename(t),s=Ve.lookupNode(n,o),a=Ve.mayDelete(n,o,!1);if(a)throw new Ve.ErrnoError(a);if(!n.node_ops.unlink)throw new Ve.ErrnoError(63);if(Ve.isMountpoint(s))throw new Ve.ErrnoError(10);try{Ve.trackingDelegate.willDeletePath&&Ve.trackingDelegate.willDeletePath(t)}catch(r){me("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+r.message)}n.node_ops.unlink(n,o),Ve.destroyNode(s);try{Ve.trackingDelegate.onDeletePath&&Ve.trackingDelegate.onDeletePath(t)}catch(r){me("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+r.message)}},readlink:function(e){var t=Ve.lookupPath(e),r=t.node;if(!r)throw new Ve.ErrnoError(44);if(!r.node_ops.readlink)throw new Ve.ErrnoError(28);return We.resolve(Ve.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,t){var r=Ve.lookupPath(e,{follow:!t}),n=r.node;if(!n)throw new Ve.ErrnoError(44);if(!n.node_ops.getattr)throw new Ve.ErrnoError(63);return n.node_ops.getattr(n)},lstat:function(e){return Ve.stat(e,!0)},chmod:function(e,t,r){var n;if("string"==typeof e){var o=Ve.lookupPath(e,{follow:!r});n=o.node}else n=e;if(!n.node_ops.setattr)throw new Ve.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){Ve.chmod(e,t,!0)},fchmod:function(e,t){var r=Ve.getStream(e);if(!r)throw new Ve.ErrnoError(8);Ve.chmod(r.node,t)},chown:function(e,t,r,n){var o;if("string"==typeof e){var s=Ve.lookupPath(e,{follow:!n});o=s.node}else o=e;if(!o.node_ops.setattr)throw new Ve.ErrnoError(63);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,t,r){Ve.chown(e,t,r,!0)},fchown:function(e,t,r){var n=Ve.getStream(e);if(!n)throw new Ve.ErrnoError(8);Ve.chown(n.node,t,r)},truncate:function(e,t){if(0>t)throw new Ve.ErrnoError(28);var r;if("string"==typeof e){var n=Ve.lookupPath(e,{follow:!0});r=n.node}else r=e;if(!r.node_ops.setattr)throw new Ve.ErrnoError(63);if(Ve.isDir(r.mode))throw new Ve.ErrnoError(31);if(!Ve.isFile(r.mode))throw new Ve.ErrnoError(28);var o=Ve.nodePermissions(r,"w");if(o)throw new Ve.ErrnoError(o);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=Ve.getStream(e);if(!r)throw new Ve.ErrnoError(8);if(0==(2097155&r.flags))throw new Ve.ErrnoError(28);Ve.truncate(r.node,t)},utime:function(e,t,r){var n=Ve.lookupPath(e,{follow:!0}),o=n.node;o.node_ops.setattr(o,{timestamp:X(t,r)})},open:function(t,r,n,o,s){if(""===t)throw new Ve.ErrnoError(44);r="string"==typeof r?Ve.modeStringToFlags(r):r,n="undefined"==typeof n?438:n,n=64&r?32768|4095&n:0;var a;if("object"==typeof t)a=t;else{t=Ue.normalize(t);try{var i=Ve.lookupPath(t,{follow:!(131072&r)});a=i.node}catch(t){}}var d=!1;if(64&r)if(!a)a=Ve.mknod(t,n,0),d=!0;else if(128&r)throw new Ve.ErrnoError(20);if(!a)throw new Ve.ErrnoError(44);if(Ve.isChrdev(a.mode)&&(r&=-513),65536&r&&!Ve.isDir(a.mode))throw new Ve.ErrnoError(54);if(!d){var l=Ve.mayOpen(a,r);if(l)throw new Ve.ErrnoError(l)}512&r&&Ve.truncate(a,0),r&=-131713;var _=Ve.createStream({node:a,path:Ve.getPath(a),flags:r,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},o,s);_.stream_ops.open&&_.stream_ops.open(_),Z.logReadFiles&&!(1&r)&&(!Ve.readFiles&&(Ve.readFiles={}),!(t in Ve.readFiles)&&(Ve.readFiles[t]=1,me("FS.trackingDelegate error on read file: "+t)));try{if(Ve.trackingDelegate.onOpenFile){var p=0;1!=(2097155&r)&&(p|=Ve.tracking.openFlags.READ),0!=(2097155&r)&&(p|=Ve.tracking.openFlags.WRITE),Ve.trackingDelegate.onOpenFile(t,p)}}catch(r){me("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+r.message)}return _},close:function(e){if(Ve.isClosed(e))throw new Ve.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{Ve.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(Ve.isClosed(e))throw new Ve.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ve.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new Ve.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,o){if(0>n||0>o)throw new Ve.ErrnoError(28);if(Ve.isClosed(e))throw new Ve.ErrnoError(8);if(1==(2097155&e.flags))throw new Ve.ErrnoError(8);if(Ve.isDir(e.node.mode))throw new Ve.ErrnoError(31);if(!e.stream_ops.read)throw new Ve.ErrnoError(28);var s="undefined"!=typeof o;if(!s)o=e.position;else if(!e.seekable)throw new Ve.ErrnoError(70);var a=e.stream_ops.read(e,t,r,n,o);return s||(e.position+=a),a},write:function(t,r,n,o,s,a){if(0>o||0>s)throw new Ve.ErrnoError(28);if(Ve.isClosed(t))throw new Ve.ErrnoError(8);if(0==(2097155&t.flags))throw new Ve.ErrnoError(8);if(Ve.isDir(t.node.mode))throw new Ve.ErrnoError(31);if(!t.stream_ops.write)throw new Ve.ErrnoError(28);t.seekable&&1024&t.flags&&Ve.llseek(t,0,2);var i="undefined"!=typeof s;if(!i)s=t.position;else if(!t.seekable)throw new Ve.ErrnoError(70);var d=t.stream_ops.write(t,r,n,o,s,a);i||(t.position+=d);try{t.path&&Ve.trackingDelegate.onWriteToFile&&Ve.trackingDelegate.onWriteToFile(t.path)}catch(r){me("FS.trackingDelegate['onWriteToFile']('"+t.path+"') threw an exception: "+r.message)}return d},allocate:function(e,t,r){if(Ve.isClosed(e))throw new Ve.ErrnoError(8);if(0>t||0>=r)throw new Ve.ErrnoError(28);if(0==(2097155&e.flags))throw new Ve.ErrnoError(8);if(!Ve.isFile(e.node.mode)&&!Ve.isDir(e.node.mode))throw new Ve.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ve.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,o,s){if(0!=(2&o)&&0==(2&s)&&2!=(2097155&e.flags))throw new Ve.ErrnoError(2);if(1==(2097155&e.flags))throw new Ve.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ve.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,o,s)},msync:function(e,t,r,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0},munmap:function(){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new Ve.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error("Invalid encoding type \""+t.encoding+"\"");var r,n=Ve.open(e,t.flags),o=Ve.stat(e),s=o.size,a=new Uint8Array(s);return Ve.read(n,a,0,s,0),"utf8"===t.encoding?r=i(a,0):"binary"===t.encoding&&(r=a),Ve.close(n),r},writeFile:function(e,t,r){r=r||{},r.flags=r.flags||"w";var n=Ve.open(e,r.flags,r.mode);if("string"==typeof t){var o=new Uint8Array(p(t)+1),s=l(t,o,0,o.length);Ve.write(n,o,0,s,void 0,r.canOwn)}else if(ArrayBuffer.isView(t))Ve.write(n,t,0,t.byteLength,void 0,r.canOwn);else throw new Error("Unsupported data type");Ve.close(n)},cwd:function(){return Ve.currentPath},chdir:function(e){var t=Ve.lookupPath(e,{follow:!0});if(null===t.node)throw new Ve.ErrnoError(44);if(!Ve.isDir(t.node.mode))throw new Ve.ErrnoError(54);var r=Ve.nodePermissions(t.node,"x");if(r)throw new Ve.ErrnoError(r);Ve.currentPath=t.path},createDefaultDirectories:function(){Ve.mkdir("/tmp"),Ve.mkdir("/home"),Ve.mkdir("/home/web_user")},createDefaultDevices:function(){Ve.mkdir("/dev"),Ve.registerDevice(Ve.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n){return n}}),Ve.mkdev("/dev/null",Ve.makedev(1,3)),qe.register(Ve.makedev(5,0),qe.default_tty_ops),qe.register(Ve.makedev(6,0),qe.default_tty1_ops),Ve.mkdev("/dev/tty",Ve.makedev(5,0)),Ve.mkdev("/dev/tty1",Ve.makedev(6,0));var e=O();Ve.createDevice("/dev","random",e),Ve.createDevice("/dev","urandom",e),Ve.mkdir("/dev/shm"),Ve.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ve.mkdir("/proc"),Ve.mkdir("/proc/self"),Ve.mkdir("/proc/self/fd"),Ve.mount({mount:function(){var e=Ve.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var r=Ve.getStream(+t);if(!r)throw new Ve.ErrnoError(8);var n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return n.parent=n,n}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Z.stdin?Ve.createDevice("/dev","stdin",Z.stdin):Ve.symlink("/dev/tty","/dev/stdin"),Z.stdout?Ve.createDevice("/dev","stdout",null,Z.stdout):Ve.symlink("/dev/tty","/dev/stdout"),Z.stderr?Ve.createDevice("/dev","stderr",null,Z.stderr):Ve.symlink("/dev/tty1","/dev/stderr");var e=Ve.open("/dev/stdin","r"),t=Ve.open("/dev/stdout","w"),r=Ve.open("/dev/stderr","w")},ensureErrnoError:function(){Ve.ErrnoError||(Ve.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ve.ErrnoError.prototype=new Error,Ve.ErrnoError.prototype.constructor=Ve.ErrnoError,[44].forEach(function(e){Ve.genericErrors[e]=new Ve.ErrnoError(e),Ve.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){Ve.ensureErrnoError(),Ve.nameTable=Array(4096),Ve.mount(Ge,{},"/"),Ve.createDefaultDirectories(),Ve.createDefaultDevices(),Ve.createSpecialDirectories(),Ve.filesystems={MEMFS:Ge}},init:function(e,t,r){Ve.init.initialized=!0,Ve.ensureErrnoError(),Z.stdin=e||Z.stdin,Z.stdout=t||Z.stdout,Z.stderr=r||Z.stderr,Ve.createStandardStreams()},quit:function(){Ve.init.initialized=!1;var e=Z._fflush;e&&e(0);for(var t,r=0;r<Ve.streams.length;r++)(t=Ve.streams[r],!!t)&&Ve.close(t)},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},findObject:function(e,t){var r=Ve.analyzePath(e,t);return r.exists?r.object:(M(r.error),null)},analyzePath:function(e,t){try{var r=Ve.lookupPath(e,{follow:!t});e=r.path}catch(t){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=Ve.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=Ue.basename(e),r=Ve.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(t){n.error=t.errno}return n},createPath:function(e,t){e="string"==typeof e?e:Ve.getPath(e);for(var r,n=t.split("/").reverse();n.length;)if(r=n.pop(),r){var o=Ue.join2(e,r);try{Ve.mkdir(o)}catch(t){}e=o}return o},createFile:function(e,t,r,n,o){var s=Ue.join2("string"==typeof e?e:Ve.getPath(e),t),a=Ve.getMode(n,o);return Ve.create(s,a)},createDataFile:function(e,t,r,n,o,s){var a=t?Ue.join2("string"==typeof e?e:Ve.getPath(e),t):e,d=Ve.getMode(n,o),l=Ve.create(a,d);if(r){if("string"==typeof r){for(var _=Array(r.length),p=0,m=r.length;p<m;++p)_[p]=r.charCodeAt(p);r=_}Ve.chmod(l,146|d);var u=Ve.open(l,"w");Ve.write(u,r,0,r.length,0,s),Ve.close(u),Ve.chmod(l,d)}return l},createDevice:function(e,t,r,n){var o=Ue.join2("string"==typeof e?e:Ve.getPath(e),t),s=Ve.getMode(!!r,!!n);Ve.createDevice.major||(Ve.createDevice.major=64);var a=Ve.makedev(Ve.createDevice.major++,0);return Ve.registerDevice(a,{open:function(e){e.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,o){for(var s=0,a=0;a<o;a++){var d;try{d=r()}catch(t){throw new Ve.ErrnoError(29)}if(void 0===d&&0===s)throw new Ve.ErrnoError(6);if(null===d||void 0===d)break;s++,t[n+a]=d}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,r,o){for(var s=0;s<o;s++)try{n(t[r+s])}catch(t){throw new Ve.ErrnoError(29)}return o&&(e.node.timestamp=Date.now()),s}}),Ve.mkdev(o,s,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");else if(re)try{e.contents=V(re(e.url),!0),e.usedBytes=e.contents.length}catch(r){t=!1}else throw new Error("Cannot load without read() or XMLHttpRequest.");return t||M(29),t},createLazyFile:function(e,t,r,n,o){function s(){this.lengthKnown=!1,this.chunks=[]}if(s.prototype.get=function(e){if(!(e>this.length-1||0>e)){var t=e%this.chunkSize,r=0|e/this.chunkSize;return this.getter(r)[t]}},s.prototype.setDataGetter=function(e){this.getter=e},s.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(200<=e.status&&300>e.status||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=+e.getResponseHeader("Content-length"),o=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,s=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;o||(a=n);var i=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var o=new XMLHttpRequest;if(o.open("GET",r,!1),n!==a&&o.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(o.responseType="arraybuffer"),o.overrideMimeType&&o.overrideMimeType("text/plain; charset=x-user-defined"),o.send(null),!(200<=o.status&&300>o.status||304===o.status))throw new Error("Couldn't load "+r+". Status: "+o.status);return void 0===o.response?V(o.responseText||"",!0):new Uint8Array(o.response||[])},d=this;d.setDataGetter(function(e){var t=e*a,r=(e+1)*a-1;if(r=$(r,n-1),"undefined"==typeof d.chunks[e]&&(d.chunks[e]=i(t,r)),"undefined"==typeof d.chunks[e])throw new Error("doXHR failed!");return d.chunks[e]}),(s||!n)&&(a=n=1,n=this.getter(0).length,a=n,pe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new s;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var i={isDevice:!1,contents:a}}else var i={isDevice:!1,url:r};var d=Ve.createFile(e,t,i,n,o);i.contents?d.contents=i.contents:i.url&&(d.contents=null,d.url=i.url),Object.defineProperties(d,{usedBytes:{get:function(){return this.contents.length}}});var l={},_=Object.keys(d.stream_ops);return _.forEach(function(e){var t=d.stream_ops[e];l[e]=function(){if(!Ve.forceLoadFile(d))throw new Ve.ErrnoError(29);return t.apply(null,arguments)}}),l.read=function(e,t,r,n,o){if(!Ve.forceLoadFile(d))throw new Ve.ErrnoError(29);var s=e.node.contents;if(o>=s.length)return 0;var a=$(s.length-o,n);if(s.slice)for(var l=0;l<a;l++)t[r+l]=s[o+l];else for(var l=0;l<a;l++)t[r+l]=s.get(o+l);return a},d.stream_ops=l,d},createPreloadedFile:function(e,t,r,n,o,s,a,i,d,l){function _(r){function _(r){l&&l(),i||Ve.createDataFile(e,t,r,n,o,d),s&&s(),v(m)}var u=!1;Z.preloadPlugins.forEach(function(e){u||e.canHandle(p)&&(e.handle(r,p,_,function(){a&&a(),v(m)}),u=!0)}),u||_(r)}Browser.init();var p=t?We.resolve(Ue.join2(e,t)):e,m=k("cp "+p);b(m),"string"==typeof r?Browser.asyncLoad(r,function(e){_(e)},a):_(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=Ve.indexedDB();try{var o=n.open(Ve.DB_NAME(),Ve.DB_VERSION)}catch(t){return r(t)}o.onupgradeneeded=function(){pe("creating db");var e=o.result;e.createObjectStore(Ve.DB_STORE_NAME)},o.onsuccess=function(){function n(){0==l?t():r()}var s=o.result,a=s.transaction([Ve.DB_STORE_NAME],"readwrite"),i=a.objectStore(Ve.DB_STORE_NAME),d=0,l=0,_=e.length;e.forEach(function(e){var t=i.put(Ve.analyzePath(e).object.contents,e);t.onsuccess=function(){d++,d+l==_&&n()},t.onerror=function(){l++,d+l==_&&n()}}),a.onerror=r},o.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=Ve.indexedDB();try{var o=n.open(Ve.DB_NAME(),Ve.DB_VERSION)}catch(t){return r(t)}o.onupgradeneeded=r,o.onsuccess=function(){function n(){0==l?t():r()}var s=o.result;try{var a=s.transaction([Ve.DB_STORE_NAME],"readonly")}catch(t){return void r(t)}var i=a.objectStore(Ve.DB_STORE_NAME),d=0,l=0,_=e.length;e.forEach(function(e){var t=i.get(e);t.onsuccess=function(){Ve.analyzePath(e).exists&&Ve.unlink(e),Ve.createDataFile(Ue.dirname(e),Ue.basename(e),t.result,!0,!0,!0),d++,d+l==_&&n()},t.onerror=function(){l++,d+l==_&&n()}}),a.onerror=r},o.onerror=r}},x={mappings:{},DEFAULT_POLLMASK:5,umask:511,calculateAt:function(e,t){if("/"!==t[0]){var r;if(-100===e)r=Ve.cwd();else{var n=Ve.getStream(e);if(!n)throw new Ve.ErrnoError(8);r=n.path}t=Ue.join2(r,t)}return t},doStat:function(e,t,r){try{var s=e(t)}catch(r){if(r&&r.node&&Ue.normalize(t)!==Ue.normalize(Ve.getPath(r.node)))return-54;throw r}return be[r>>2]=s.dev,be[r+4>>2]=0,be[r+8>>2]=s.ino,be[r+12>>2]=s.mode,be[r+16>>2]=s.nlink,be[r+20>>2]=s.uid,be[r+24>>2]=s.gid,be[r+28>>2]=s.rdev,be[r+32>>2]=0,je=[s.size>>>0,(He=s.size,1<=+o(He)?0<He?(0|$(+n(He/4294967296),4294967295))>>>0:~~+J((He-+(~~He>>>0))/4294967296)>>>0:0)],be[r+40>>2]=je[0],be[r+44>>2]=je[1],be[r+48>>2]=4096,be[r+52>>2]=s.blocks,be[r+56>>2]=0|s.atime.getTime()/1e3,be[r+60>>2]=0,be[r+64>>2]=0|s.mtime.getTime()/1e3,be[r+68>>2]=0,be[r+72>>2]=0|s.ctime.getTime()/1e3,be[r+76>>2]=0,je=[s.ino>>>0,(He=s.ino,1<=+o(He)?0<He?(0|$(+n(He/4294967296),4294967295))>>>0:~~+J((He-+(~~He>>>0))/4294967296)>>>0:0)],be[r+80>>2]=je[0],be[r+84>>2]=je[1],0},doMsync:function(e,t,r,n,o){var s=ye.slice(e,e+r);Ve.msync(t,s,o,r,n)},doMkdir:function(e,t){return e=Ue.normalize(e),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),Ve.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28;}return Ve.mknod(e,t,r),0},doReadlink:function(e,t,r){if(0>=r)return-28;var n=Ve.readlink(e),o=$(r,p(n)),s=fe[t+o];return _(n,t,r+1),fe[t+o]=s,o},doAccess:function(e,t){if(-8&t)return-28;var r,n=Ve.lookupPath(e,{follow:!0});if(r=n.node,!r)return-44;var o="";return 4&t&&(o+="r"),2&t&&(o+="w"),1&t&&(o+="x"),o&&Ve.nodePermissions(r,o)?-2:0},doDup:function(e,t,r){var n=Ve.getStream(r);return n&&Ve.close(n),Ve.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var o=0,s=0;s<r;s++){var a=be[t+8*s>>2],d=be[t+(8*s+4)>>2],l=Ve.read(e,fe,a,d,n);if(0>l)return-1;if(o+=l,l<d)break}return o},doWritev:function(e,t,r,n){for(var o=0,s=0;s<r;s++){var a=be[t+8*s>>2],d=be[t+(8*s+4)>>2],l=Ve.write(e,fe,a,d,n);if(0>l)return-1;o+=l}return o},varargs:void 0,get:function(){x.varargs+=4;var e=be[x.varargs-4>>2];return e},getStr:function(e){var t=d(e);return t},getStreamFromFD:function(e){var t=Ve.getStream(e);if(!t)throw new Ve.ErrnoError(8);return t},get64:function(e){return e}},Ke=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ve.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},Xe=365,$e=146;Object.defineProperties(Ke.prototype,{read:{get:function(){return 365===(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146===(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Ve.isDir(this.mode)}},isDevice:{get:function(){return Ve.isChrdev(this.mode)}}}),Ve.FSNode=Ke,Ve.staticInit(),Le.push({func:function(){Qe()}});var Je={d:z,i:I,j:function(e,t,r){x.varargs=r;try{var n=x.getStr(e),o=x.get(),s=Ve.open(n,t,o);return s.fd}catch(t){return"undefined"!=typeof Ve&&t instanceof Ve.ErrnoError||C(t),-t.errno}},f:H,g:function(e){e>>>=0;var t=j(),r=2147483648;if(2147483648<e)return!1;for(var n,o=1;4>=o;o*=2){n=t*(1+.2/o),n=$(n,e+100663296);var s=$(2147483648,m(X(16777216,e,n),65536)),a=U(s);if(a)return!0}return!1},c:function(e){try{var t=x.getStreamFromFD(e);return Ve.close(t),0}catch(t){return"undefined"!=typeof Ve&&t instanceof Ve.ErrnoError||C(t),t.errno}},h:W,e:q,b:G,a:ge},Ye=P(),Qe=Z.___wasm_call_ctors=function(){return(Qe=Z.___wasm_call_ctors=Z.asm.l).apply(null,arguments)},Ze=Z._malloc=function(){return(Ze=Z._malloc=Z.asm.m).apply(null,arguments)},et=Z._free=function(){return(et=Z._free=Z.asm.n).apply(null,arguments)},tt=Z._mid_song_start=function(){return(tt=Z._mid_song_start=Z.asm.o).apply(null,arguments)},rt=Z._mid_song_seek=function(){return(rt=Z._mid_song_seek=Z.asm.p).apply(null,arguments)},nt=Z._mid_song_get_total_time=function(){return(nt=Z._mid_song_get_total_time=Z.asm.q).apply(null,arguments)},ot=Z._mid_song_get_time=function(){return(ot=Z._mid_song_get_time=Z.asm.r).apply(null,arguments)},st=Z._mid_song_read_wave=function(){return(st=Z._mid_song_read_wave=Z.asm.s).apply(null,arguments)},at=Z._mid_istream_open_mem=function(){return(at=Z._mid_istream_open_mem=Z.asm.t).apply(null,arguments)},it=Z._mid_istream_close=function(){return(it=Z._mid_istream_close=Z.asm.u).apply(null,arguments)},dt=Z._mid_exit=function(){return(dt=Z._mid_exit=Z.asm.v).apply(null,arguments)},lt=Z._mid_init=function(){return(lt=Z._mid_init=Z.asm.w).apply(null,arguments)},_t=Z._mid_song_load=function(){return(_t=Z._mid_song_load=Z.asm.x).apply(null,arguments)},pt=Z._mid_song_free=function(){return(pt=Z._mid_song_free=Z.asm.y).apply(null,arguments)},mt=Z._mid_alloc_options=function(){return(mt=Z._mid_alloc_options=Z.asm.z).apply(null,arguments)},ut=Z._mid_get_load_request_count=function(){return(ut=Z._mid_get_load_request_count=Z.asm.A).apply(null,arguments)},ct=Z._mid_get_load_request=function(){return(ct=Z._mid_get_load_request=Z.asm.B).apply(null,arguments)},gt=Z.___errno_location=function(){return(gt=Z.___errno_location=Z.asm.C).apply(null,arguments)};Z.UTF8ToString=d,Z.FS=Ve;var ht;if(ze=function e(){ht||K(),ht||(ze=e)},Z.run=K,Z.preInit)for("function"==typeof Z.preInit&&(Z.preInit=[Z.preInit]);0<Z.preInit.length;)Z.preInit.pop()();return ce=!0,K(),t.ready}}();"object"==typeof r&&"object"==typeof t?t.exports=s:"function"==typeof define&&define.amd?define([],function(){return s}):"object"==typeof r&&(r.LibTimidity=s)},{}],2:[function(e,t,r){(function(n){(function(){function o(){let e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof n&&"env"in n&&(e=n.env.DEBUG),e}r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;e.splice(1,0,r,"color: inherit");let n=0,o=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"===e||(n++,"%c"===e&&(o=n))}),e.splice(o,0,r)},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=o,r.useColors=function(){return!!("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.log=console.debug||console.log||(()=>{}),t.exports=e("./common")(r);const{formatters:s}=t.exports;s.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this)}).call(this,e("_process"))},{"./common":3,_process:6}],3:[function(e,t){var r=Math.abs;t.exports=function(t){function n(e){function t(...e){if(!t.enabled)return;const o=t,s=+new Date,a=s-(r||s);o.diff=a,o.prev=r,o.curr=s,r=s,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,r)=>{if("%%"===t)return t;i++;const s=n.formatters[r];if("function"==typeof s){const r=e[i];t=s.call(o,r),e.splice(i,1),i--}return t}),n.formatArgs.call(o,e);const d=o.log||n.log;d.apply(o,e)}let r;return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=n.selectColor(e),t.destroy=o,t.extend=s,"function"==typeof n.init&&n.init(t),n.instances.push(t),t}function o(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function s(e,t){const r=n(this.namespace+("undefined"==typeof t?":":t)+e);return r.log=this.log,r}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){const e=[...n.names.map(a),...n.skips.map(a).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){n.save(e),n.names=[],n.skips=[];let t;const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&(e=r[t].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),Object.keys(t).forEach(e=>{n[e]=t[e]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[r(t)%n.colors.length]},n.enable(n.load()),n}},{ms:5}],4:[function(e,t){function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=E(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function n(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function s(e,t,r){if(t)e.call(r);else for(var n=e.length,o=f(e,n),s=0;s<n;++s)o[s].call(r)}function a(e,t,r,n){if(t)e.call(r,n);else for(var o=e.length,s=f(e,o),a=0;a<o;++a)s[a].call(r,n)}function d(e,t,r,n,o){if(t)e.call(r,n,o);else for(var s=e.length,a=f(e,s),d=0;d<s;++d)a[d].call(r,n,o)}function l(e,t,r,n,o,s){if(t)e.call(r,n,o,s);else for(var a=e.length,d=f(e,a),l=0;l<a;++l)d[l].call(r,n,o,s)}function _(e,t,r,n){if(t)e.apply(r,n);else for(var o=e.length,s=f(e,o),a=0;a<o;++a)s[a].apply(r,n)}function p(e,t,r,o){var s,a,i;if("function"!=typeof r)throw new TypeError("\"listener\" argument must be a function");if(a=e._events,a?(a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),i=a[t]):(a=e._events=E(null),e._eventsCount=0),!i)i=a[t]=r,++e._eventsCount;else if("function"==typeof i?i=a[t]=o?[r,i]:[i,r]:o?i.unshift(r):i.push(r),!i.warned&&(s=n(e),s&&0<s&&i.length>s)){i.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+i.length+" \""+(t+"\" listeners added. Use emitter.setMaxListeners() to increase limit."));d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=i.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",d.name,d.message)}return e}function m(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e);}}function u(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=b.call(m,n);return o.listener=r,n.wrapFn=o,o}function c(e,t,r){var n=e._events;if(!n)return[];var o=n[t];return o?"function"==typeof o?r?[o.listener||o]:[o]:r?y(o):f(o,o.length):[]}function g(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function h(e,t){for(var r=t,o=r+1,s=e.length;o<s;r+=1,o+=1)e[r]=e[o];e.pop()}function f(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}var E=Object.create||function(e){var t=function(){};return t.prototype=e,new t},k=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return r},b=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0;var v,C=10;try{var D={};Object.defineProperty&&Object.defineProperty(D,"x",{value:0}),v=0===D.x}catch(e){v=!1}v?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return C},set:function(e){if("number"!=typeof e||0>e||e!==e)throw new TypeError("\"defaultMaxListeners\" must be a positive number");C=e}}):r.defaultMaxListeners=C,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||isNaN(e))throw new TypeError("\"n\" argument must be a positive number");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return n(this)},r.prototype.emit=function(e){var t,r,n,o,p,m,u="error"===e;if(m=this._events,m)u=u&&null==m.error;else if(!u)return!1;if(u){if(1<arguments.length&&(t=arguments[1]),t instanceof Error)throw t;else{var c=new Error("Unhandled \"error\" event. ("+t+")");throw c.context=t,c}return!1}if(r=m[e],!r)return!1;var g="function"==typeof r;switch(n=arguments.length,n){case 1:s(r,g,this);break;case 2:a(r,g,this,arguments[1]);break;case 3:d(r,g,this,arguments[1],arguments[2]);break;case 4:l(r,g,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=Array(n-1),p=1;p<n;p++)o[p-1]=arguments[p];_(r,g,this,o);}return!0},r.prototype.addListener=function(e,t){return p(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return p(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError("\"listener\" argument must be a function");return this.on(e,u(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError("\"listener\" argument must be a function");return this.prependListener(e,u(this,e,t)),this},r.prototype.removeListener=function(e,t){var r,n,o,s,a;if("function"!=typeof t)throw new TypeError("\"listener\" argument must be a function");if(n=this._events,!n)return this;if(r=n[e],!r)return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=E(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,s=r.length-1;0<=s;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,o=s;break}if(0>o)return this;0===o?r.shift():h(r,o),1===r.length&&(n[e]=r[0]),n.removeListener&&this.emit("removeListener",e,a||t)}return this},r.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,!r)return this;if(!r.removeListener)return 0===arguments.length?(this._events=E(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=E(null):delete r[e]),this;if(0===arguments.length){var o,s=k(r);for(n=0;n<s.length;++n)o=s[n],"removeListener"===o||this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=E(null),this._eventsCount=0,this}if(t=r[e],"function"==typeof t)this.removeListener(e,t);else if(t)for(n=t.length-1;0<=n;n--)this.removeListener(e,t[n]);return this},r.prototype.listeners=function(e){return c(this,e,!0)},r.prototype.rawListeners=function(e){return c(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},r.prototype.listenerCount=g,r.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],5:[function(e,t){var a=Math.round,i=Math.abs;function r(e){if(e+="",!(100<e.length)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();return"years"===n||"year"===n||"yrs"===n||"yr"===n||"y"===n?31557600000*r:"weeks"===n||"week"===n||"w"===n?604800000*r:"days"===n||"day"===n||"d"===n?86400000*r:"hours"===n||"hour"===n||"hrs"===n||"hr"===n||"h"===n?3600000*r:"minutes"===n||"minute"===n||"mins"===n||"min"===n||"m"===n?60000*r:"seconds"===n||"second"===n||"secs"===n||"sec"===n||"s"===n?1000*r:"milliseconds"===n||"millisecond"===n||"msecs"===n||"msec"===n||"ms"===n?r:void 0}}}function n(e){var t=i(e);return 86400000<=t?a(e/86400000)+"d":3600000<=t?a(e/3600000)+"h":60000<=t?a(e/60000)+"m":1000<=t?a(e/1000)+"s":e+"ms"}function o(e){var t=i(e);return 86400000<=t?s(e,t,86400000,"day"):3600000<=t?s(e,t,3600000,"hour"):60000<=t?s(e,t,60000,"minute"):1000<=t?s(e,t,1000,"second"):e+" ms"}function s(e,t,r,n){return a(e/r)+" "+n+(t>=1.5*r?"s":"")}var l=24*(60*60000);t.exports=function(e,t){t=t||{};var s=typeof e;if("string"==s&&0<e.length)return r(e);if("number"===s&&isFinite(e))return t.long?o(e):n(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],6:[function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(p===setTimeout)return setTimeout(t,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(t,0);try{return p(t,0)}catch(r){try{return p.call(null,t,0)}catch(r){return p.call(this,t,0)}}}function s(t){if(m===clearTimeout)return clearTimeout(t);if((m===n||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(t);try{return m(t)}catch(r){try{return m.call(null,t)}catch(r){return m.call(this,t)}}}function a(){h&&c&&(h=!1,c.length?g=c.concat(g):f=-1,g.length&&d())}function d(){if(!h){var e=o(a);h=!0;for(var t=g.length;t;){for(c=g,g=[];++f<t;)c&&c[f].run();f=-1,t=g.length}c=null,h=!1,s(e)}}function l(e,t){this.fun=e,this.array=t}function _(){}var p,m,u=t.exports={};(function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(t){p=r}try{m="function"==typeof clearTimeout?clearTimeout:n}catch(t){m=n}})();var c,g=[],h=!1,f=-1;u.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];g.push(new l(e,t)),1!==g.length||h||o(d)},l.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=_,u.addListener=_,u.once=_,u.off=_,u.removeListener=_,u.removeAllListeners=_,u.emit=_,u.prependListener=_,u.prependOnceListener=_,u.listeners=function(){return[]},u.binding=function(){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],"/":[function(e,t){var r=Math.floor;const n=e("debug"),o=e("events").EventEmitter,s=e("./libtimidity"),a=n("timidity"),i=n("timidity:verbose"),d=2,l=2*d,_=16384,p="undefined"!=typeof window&&(window.AudioContext||window.webkitAudioContext);class m extends o{constructor(e="/"){super(),this.destroyed=!1,e.endsWith("/")||(e+="/"),this._baseUrl=new URL(e,window.location.origin).href,this._ready=!1,this._playing=!1,this._pendingFetches={},this._songPtr=0,this._bufferPtr=0,this._array=new Int16Array(2*_),this._currentUrlOrBuf=null,this._interval=null,this._startInterval=this._startInterval.bind(this),this._stopInterval=this._stopInterval.bind(this),this._audioContext=new p,this._node=this._audioContext.createScriptProcessor(_,0,d),this._onAudioProcess=this._onAudioProcess.bind(this),this._node.addEventListener("audioprocess",this._onAudioProcess),this._node.connect(this._audioContext.destination),this._lib=s({locateFile:e=>new URL(e,this._baseUrl).href,onRuntimeInitialized:()=>this._onLibReady()})}_onLibReady(){this._lib.FS.writeFile("/timidity.cfg","\ndrumset 0\n\n 25\tDrum_000/025_Snare_Roll.pat \n 26\tDrum_000/026_Snap.pat \n 27\tDrum_000/027_High_Q.pat \n 31\tDrum_000/031_Sticks.pat \n 32\tDrum_000/032_Square_Click.pat \n 33\tDrum_000/033_Metronome_Click.pat \n 34\tDrum_000/034_Metronome_Bell.pat \n 35\tDrum_000/035_Kick_1.pat amp=100\n 36\tDrum_000/036_Kick_2.pat amp=100\n 37\tDrum_000/037_Stick_Rim.pat \n 38\tDrum_000/038_Snare_1.pat \n 39\tDrum_000/039_Clap_Hand.pat amp=100\n 40\tDrum_000/040_Snare_2.pat \n 41\tDrum_000/041_Tom_Low_2.pat amp=100\n 42\tDrum_000/042_Hi-Hat_Closed.pat \n 43\tDrum_000/043_Tom_Low_1.pat amp=100\n 44\tDrum_000/044_Hi-Hat_Pedal.pat \n 45\tDrum_000/045_Tom_Mid_2.pat amp=100\n 46\tDrum_000/046_Hi-Hat_Open.pat \n 47\tDrum_000/047_Tom_Mid_1.pat amp=100\n 48\tDrum_000/048_Tom_High_2.pat amp=100\n 49\tDrum_000/049_Cymbal_Crash_1.pat \n 50\tDrum_000/050_Tom_High_1.pat amp=100\n 51\tDrum_000/051_Cymbal_Ride_1.pat \n 52\tDrum_000/052_Cymbal_Chinese.pat \n 53\tDrum_000/053_Cymbal_Ride_Bell.pat amp=100\n 54\tDrum_000/054_Tombourine.pat \n 55\tDrum_000/055_Cymbal_Splash.pat \n 56\tDrum_000/056_Cow_Bell.pat \n 57\tDrum_000/057_Cymbal_Crash_2.pat \n 58\tDrum_000/058_Vibra-Slap.pat \n 59\tDrum_000/059_Cymbal_Ride_2.pat \n 60\tDrum_000/060_Bongo_High.pat \n 61\tDrum_000/061_Bongo_Low.pat \n 62\tDrum_000/062_Conga_High_1_Mute.pat \n 63\tDrum_000/063_Conga_High_2_Open.pat \n 64\tDrum_000/064_Conga_Low.pat \n 65\tDrum_000/065_Timbale_High.pat \n 66\tDrum_000/066_Timbale_Low.pat \n 67\tDrum_000/067_Agogo_High.pat \n 68\tDrum_000/068_Agogo_Low.pat \n 69\tDrum_000/069_Cabasa.pat amp=100\n 70\tDrum_000/070_Maracas.pat \n 71\tDrum_000/071_Whistle_1_High_Short.pat \n 72\tDrum_000/072_Whistle_2_Low_Long.pat \n 73\tDrum_000/073_Guiro_1_Short.pat \n 74\tDrum_000/074_Guiro_2_Long.pat \n 75\tDrum_000/075_Claves.pat amp=100\n 76\tDrum_000/076_Wood_Block_1_High.pat \n 77\tDrum_000/077_Wood_Block_2_Low.pat \n 78\tDrum_000/078_Cuica_1_Mute.pat amp=100\n 79\tDrum_000/079_Cuica_2_Open.pat amp=100\n 80\tDrum_000/080_Triangle_1_Mute.pat \n 81\tDrum_000/081_Triangle_2_Open.pat \n 82\tDrum_000/082_Shaker.pat \n 84\tDrum_000/084_Belltree.pat \n\nbank 0\n\n 0\tTone_000/000_Acoustic_Grand_Piano.pat amp=120 pan=center\n 1\tTone_000/001_Acoustic_Brite_Piano.pat \n 2\tTone_000/002_Electric_Grand_Piano.pat \n 4\tTone_000/004_Electric_Piano_1_Rhodes.pat \n 5\tTone_000/005_Electric_Piano_2_Chorused_Yamaha_DX.pat \n 6\tTone_000/006_Harpsichord.pat \n 7\tTone_000/007_Clavinet.pat \n 8\tTone_000/008_Celesta.pat \n 9\tTone_000/009_Glockenspiel.pat \n 13\tTone_000/013_Xylophone.pat \n 14\tTone_000/014_Tubular_Bells.pat \n 15\tTone_000/015_Dulcimer.pat \n 16\tTone_000/016_Hammond_Organ.pat \n 19\tTone_000/019_Church_Organ.pat \n 21\tTone_000/021_Accordion.pat \n 23\tTone_000/023_Tango_Accordion.pat \n 24\tTone_000/024_Nylon_Guitar.pat \n 25\tTone_000/025_Steel_Guitar.pat \n 26\tTone_000/026_Jazz_Guitar.pat \n 27\tTone_000/027_Clean_Electric_Guitar.pat \n 28\tTone_000/028_Muted_Electric_Guitar.pat \n 29\tTone_000/029_Overdriven_Guitar.pat \n 30\tTone_000/030_Distortion_Guitar.pat \n 32\tTone_000/032_Acoustic_Bass.pat \n 33\tTone_000/033_Finger_Bass.pat \n 34\tTone_000/034_Pick_Bass.pat \n 35\tTone_000/035_Fretless_Bass.pat \n 36\tTone_000/036_Slap_Bass_1.pat \n 37\tTone_000/037_Slap_Bass_2.pat \n 38\tTone_000/038_Synth_Bass_1.pat \n 40\tTone_000/040_Violin.pat \n 42\tTone_000/042_Cello.pat \n 44\tTone_000/044_Tremolo_Strings.pat \n 45\tTone_000/045_Pizzicato_Strings.pat \n 46\tTone_000/046_Harp.pat \n 47\tTone_000/047_Timpani.pat \n 48\tTone_000/048_String_Ensemble_1_Marcato.pat \n 53\tTone_000/053_Voice_Oohs.pat \n 56\tTone_000/056_Trumpet.pat \n 57\tTone_000/057_Trombone.pat \n 58\tTone_000/058_Tuba.pat \n 59\tTone_000/059_Muted_Trumpet.pat \n 60\tTone_000/060_French_Horn.pat \n 61\tTone_000/061_Brass_Section.pat \n 64\tTone_000/064_Soprano_Sax.pat \n 65\tTone_000/065_Alto_Sax.pat \n 66\tTone_000/066_Tenor_Sax.pat \n 67\tTone_000/067_Baritone_Sax.pat \n 68\tTone_000/068_Oboe.pat \n 69\tTone_000/069_English_Horn.pat \n 70\tTone_000/070_Bassoon.pat \n 71\tTone_000/071_Clarinet.pat \n 72\tTone_000/072_Piccolo.pat \n 73\tTone_000/073_Flute.pat \n 74\tTone_000/074_Recorder.pat \n 75\tTone_000/075_Pan_Flute.pat \n 76\tTone_000/076_Bottle_Blow.pat \n 79\tTone_000/079_Ocarina.pat \n 80\tTone_000/080_Square_Wave.pat \n 84\tTone_000/084_Charang.pat \n 88\tTone_000/088_New_Age.pat \n 94\tTone_000/094_Halo_Pad.pat \n 95\tTone_000/095_Sweep_Pad.pat \n 98\tTone_000/098_Crystal.pat \n 101\tTone_000/101_Goblins--Unicorn.pat \n 102\tTone_000/102_Echo_Voice.pat \n 104\tTone_000/104_Sitar.pat \n 114\tTone_000/114_Steel_Drums.pat \n 115\tTone_000/115_Wood_Block.pat \n 120\tTone_000/120_Guitar_Fret_Noise.pat \n 122\tTone_000/122_Seashore.pat \n 125\tTone_000/125_Helicopter.pat \n\n");const e=this._lib._mid_init("/timidity.cfg");return 0===e?void(this._bufferPtr=this._lib._malloc(_*l),i("Initialized libtimidity"),this._ready=!0,this.emit("_ready")):this._destroy(new Error("Failed to initialize libtimidity"))}async load(e){if(a("load %o",e),this.destroyed)throw new Error("load() called after destroy()");if(this._audioContext.resume(),this._songPtr&&this._destroySong(),this.emit("unstarted"),this._stopInterval(),!this._ready)return this.once("_ready",()=>this.load(e));this.emit("buffering"),this._currentUrlOrBuf=e;let t;if("string"==typeof e){if(t=await this._fetch(new URL(e,this._baseUrl)),this._currentUrlOrBuf!==e)return;}else if(e instanceof Uint8Array)t=e;else throw new Error("load() expects a `string` or `Uint8Array` argument");let r=this._loadSong(t),n=this._lib._mid_get_load_request_count(r);if(0<n){let o=this._getMissingInstruments(r,n);if(i("Fetching instruments: %o",o),await Promise.all(o.map(e=>this._fetchInstrument(e))),this._currentUrlOrBuf!==e)return;this._lib._mid_song_free(r),r=this._loadSong(t),n=this._lib._mid_get_load_request_count(r),0<n&&(o=this._getMissingInstruments(r,n),a("Playing with missing instruments: %o",o))}this._songPtr=r,this._lib._mid_song_start(this._songPtr),i("Song and instruments are loaded")}_getMissingInstruments(e,t){const r=[];for(let n=0;n<t;n++){const t=this._lib._mid_get_load_request(e,n),o=this._lib.UTF8ToString(t);r.push(o)}return r}_loadSong(e){const t=this._lib._mid_alloc_options(44100,32784,d,_),r=this._lib._malloc(e.byteLength);this._lib.HEAPU8.set(e,r);const n=this._lib._mid_istream_open_mem(r,e.byteLength),o=this._lib._mid_song_load(n,t);return this._lib._mid_istream_close(n),this._lib._free(t),this._lib._free(r),0===o?this._destroy(new Error("Failed to load MIDI file")):o}async _fetchInstrument(e){if(this._pendingFetches[e])return this._pendingFetches[e];const t=new URL(e,this._baseUrl),r=this._fetch(t);this._pendingFetches[e]=r;const n=await r;return this._writeInstrumentFile(e,n),delete this._pendingFetches[e],n}_writeInstrumentFile(e,t){const r=e.split("/").slice(0,-1).join("/");this._mkdirp(r),this._lib.FS.writeFile(e,t,{encoding:"binary"})}_mkdirp(e){const t=e.split("/");let r="/";for(let n=0;n<t.length;n++){const e=t[n];try{this._lib.FS.mkdir(`${r}${e}`)}catch(e){}r+=`${e}/`}}async _fetch(e){const t=await window.fetch(e,{mode:"cors",credentials:"same-origin"});if(200!==t.status)throw new Error(`Could not load ${e}`);const r=await t.arrayBuffer(),n=new Uint8Array(r);return n}play(){if(a("play"),this.destroyed)throw new Error("play() called after destroy()");this._audioContext.resume(),this._playing=!0,this._ready&&!this._currentUrlOrBuf&&(this.emit("playing"),this._startInterval())}_onAudioProcess(e){const t=this._songPtr&&this._playing?this._readMidiData():0;0<t&&this._currentUrlOrBuf&&(this._currentUrlOrBuf=null,this.emit("playing"),this._startInterval());const r=e.outputBuffer.getChannelData(0),n=e.outputBuffer.getChannelData(1);for(let o=0;o<t;o++)r[o]=this._array[2*o]/32767,n[o]=this._array[2*o+1]/32767;for(let o=t;o<_;o++)r[o]=0,n[o]=0;this._songPtr&&this._playing&&0===t&&(this.seek(0),this.pause(),this._lib._mid_song_start(this._songPtr),this.emit("ended"))}_readMidiData(){const e=this._lib._mid_song_read_wave(this._songPtr,this._bufferPtr,_*l),t=e/l;return 0===t?0:(this._array.set(this._lib.HEAP16.subarray(this._bufferPtr/2,(this._bufferPtr+e)/2)),t)}pause(){if(a("pause"),this.destroyed)throw new Error("pause() called after destroy()");this._playing=!1,this._stopInterval(),this.emit("paused")}seek(e){if(a("seek %d",e),this.destroyed)throw new Error("seek() called after destroy()");if(this._songPtr){const t=r(1e3*e);this._lib._mid_song_seek(this._songPtr,t),this._onTimeupdate()}}get currentTime(){return this.destroyed||!this._songPtr?0:this._lib._mid_song_get_time(this._songPtr)/1e3}get duration(){return this.destroyed||!this._songPtr?1:this._lib._mid_song_get_total_time(this._songPtr)/1e3}_onTimeupdate(){this.emit("timeupdate",this.currentTime)}_startInterval(){this._onTimeupdate(),this._interval=setInterval(()=>this._onTimeupdate(),1e3)}_stopInterval(){this._onTimeupdate(),clearInterval(this._interval),this._interval=null}destroy(){if(a("destroy"),this.destroyed)throw new Error("destroy() called after destroy()");this._destroy()}_destroy(e){this.destroyed||(this.destroyed=!0,this._stopInterval(),this._array=null,this._songPtr&&this._destroySong(),this._bufferPtr&&(this._lib._free(this._bufferPtr),this._bufferPtr=0),this._node&&(this._node.disconnect(),this._node.removeEventListener("audioprocess",this._onAudioProcess)),this._audioContext&&this._audioContext.close(),e&&this.emit("error",e),a("destroyed (err %o)",e))}_destroySong(){this._lib._mid_song_free(this._songPtr),this._songPtr=0}}window&&(window.TimidityPlayer=m),t.exports=m},{"./libtimidity":1,debug:2,events:4}]},{},[]);